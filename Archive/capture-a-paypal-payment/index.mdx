---
title: capture-a-paypal-payment
account: Archive
---

View page on sitePage history[Suggested Edits 0](/project/checkoutdocs-legacy/v1.9/suggested)

To enable a two-step \*\*authorization and capture\*\* process to capture payments manually,\*\* auto capture must be disabled\*\* in the \[authorization request\](doc:authorize-a-paypal-payment) — \*it is enabled by default\*.

Our manual capture API can be used on your server-side code to capture a payment. This endpoint manually captures an authorized card payment either in full or partially. Any capture amount less than the original transaction will be treated as a partial capture. If a payment is created with the auto-capture set to 'n', you must either use this endpoint to capture the payment or capture it from \[The Hub\](https://hub.checkout.com/). Manual capture is not allowed if \`autoCapture\` is set to \`y\`. ## The request Capture a payment by sending a \*\*POST\*\* API request to the URI below. In the URI, replace \*\*{chargeId}\*\* with the \`chargeId\` of the \*\*authorized transaction\*\*, however, first \*\*add the prefix\*\* \`charge\_\` or \`charge_test\_\` to your ID. ### Endpoint live <pre class="api-header-long-url"><p class="api-header"><span class="post-tag">POST</span>https://api2.checkout.com/v2/charges/charge\_{chargeId}/capture</p></pre> ### Endpoint sandbox <pre class="api-header-long-url"><p class="api-header"><span class="post-tag">POST</span>https://sandbox.checkout.com/api2/v2/charges/charge\_{chargeId}/capture</p></pre> ### Header and path parameters

x

Add Row Add Col

|     |     |
| --- | --- |

|
\`Authorization\` <span class="req-def">Required</span>

|

\`secret key\`\*

|
|

\`Content-Type\` <span class="req-def">Required</span>

|

\`application/json\`

|

\*For authorization, use the valid \`secret key\` of your Checkout.com account. You can find this in \[The Hub\](https://hub.checkout.com/).

x

Add Row Add Col

|     |     |
| --- | --- |

|
\`chargeId\` <span class="req-def">Required</span>

|

The charge ID, embedded within the URI, prefixed with \`charge\_\` or \`charge_test\_\`.

|

\### Request example

JSON Java

rename · delete

TextASPCCoffeeScriptClojureC++C#CSScURLCypherDDiffDockerfileErlangGoGroovyHandlebarsHAMLHaxeHTMLHTTPJavaJavaScriptJinja2JSONJuliaKotlinLESSLiquidLuaMarkdownMySQLObjective-COCamlPerlPHPPostgresPowerShellPythonRRubyRustSASSScalaSCSSShellSmartySQLStylusSwiftTOMLTwigTypeScriptXMLYAML

xxxxxxxxxx

25

1

{

2

"value": "7000",

3

"trackId": "TRK12345",

4

"description": "capture description",

5

"metadata": {

6

"product": "T-Shirt Ladies"

7

},

8

"products": \[

9

{

10

"description": "T-Shirt Ladies Medium",

11

"image": null,

12

"name": "T-Shirt Ladies",

13

"price": 2000,

14

"quantity": 1,

15

"shippingCost": 0,

16

"sku": "tee123",

17

"trackingUrl": "https://www.example.com"

18

}

19

\],

20

"udf1": "test udf 1",

21

"udf2": "test udf 2",

22

"udf3": "test udf 3",

23

"udf4": "test udf 4",

24

"udf5": "test udf 5"

25

}

Import from Gist

xxxxxxxxxx

42

1

// Create payload

2

String chargeId \= "charge_88EDAABC175O76BD3E88";

3

​

4

ChargeCapture chargeCapturePayload \=new ChargeCapture();

5

cardChargePayload.value \= "3880";

6

chargeCapturePayload.trackId \= "TRK12345";

7

chargeCapturePayload.description \= "capture description";

8

​

9

chargeCapturePayload.metadata \= new HashMap<String,String\>();

10

chargeCapturePayload.metadata.put("product", "ipad 2");

11

​

12

chargeCapturePayload.products \= new ArrayList<Product\>();

13

Product product1 \=new Product();

14

product1.description\= "Tablet 1 gold limited";

15

product1.name\="Tablet 1 gold limited";

16

product1.price\=100.0;

17

product1.quantity\=1;

18

product1.shippingCost\=10.0;

19

product1.sku\= "1aab2aa";

20

product1.trackingUrl\="https://www.tracker.com";

21

chargeCapturePayload.products.add(product1);

22

​

23

chargeCapturePayload.udf1\= "test udf 1";

24

chargeCapturePayload.udf2\= "test udf 2";

25

chargeCapturePayload.udf3\= "test udf 3";

26

chargeCapturePayload.udf4\= "test udf 4";

27

chargeCapturePayload.udf5\= "test udf 5";

28

​

29

try {

30

// Create APIClient instance with your secret key

31

APIClient ckoAPIClient\= new APIClient("sk_test_55aedccc-7f53-4ccc-b0a6-d943decc3c31",Environment.LIVE);

32

// Submit your request and receive an apiResponse

33

Response<Capture\> apiResponse \= ckoAPIClient.chargeService.captureCharge(chargeId,chargeCapturePayload);

34

​

35

if(!apiResponse.hasError){

36

// Access the response object retrieved from the api

37

Capture charge \= apiResponse.model;

38

} else {

39

// Api has returned an error object. You can access the details in the error property of the apiResponse.

40

// apiResponse.error

41

}

42

} catch (Exception e) {}

Import from Gist

\### Additional parameters

x

Add Row Add Col

|     |     |
| --- | --- |

|
\`description\` <span class="field-type">String</span> <span class="optional-def">Optional</span>

|

A description string of the payment capture.

|
|

\`metadata\` <span class="field-type">Hash</span> <span class="optional-def">Optional</span>

|

A hash of \`FieldName\` and value pairs e.g. \`{'keys1': 'Value1'}\`. <span class="table-info">Max length of key(s) and value(s) is 100 each. A max. of 10 KVP are allowed.</span>

|
|

\`products\` <span class="field-type">Array</span> <span class="optional-def">Optional</span>

|

An array of Product information. <span class="table-info">\[Find out more\](doc:products-array).</span>

|
|

\`trackId\` <span class="field-type">String</span> <span class="optional-def">Optional</span>

|

An order tracking ID string generated by the merchant. <span class="table-info">Maximum length: 50 characters.</span>

|
|

\`udf1\` to \`udf5\` <span class="field-type">String</span> <span class="optional-def">Optional</span>

|

User defined fields 1 to 5. <span class="table-info">Maximum length: 100 characters.</span>

|
|

\`value\` <span class="field-type">Integer</span> <span class="optional-def">Optional</span>

|

Positive integer (without decimal separator) representing the capture amount. <span class="table-info">Cannot exceed the authorized payment amount. Partial captures (amounts less than the authorized amount) are permitted. Only one partial capture is allowed per authorized payment. If not specified, the default is the authorization payment amount.</span>

|

\--- ## The response If a capture payment response object returns, then your capture was successful. That's great! If you're having problems with this API, then speak to our \[support team\](mailto:support@checkout.com) for help. Take a look at the example response below. ### Response example

rename · delete

TextASPCCoffeeScriptClojureC++C#CSScURLCypherDDiffDockerfileErlangGoGroovyHandlebarsHAMLHaxeHTMLHTTPJavaJavaScriptJinja2JSONJuliaKotlinLESSLiquidLuaMarkdownMySQLObjective-COCamlPerlPHPPostgresPowerShellPythonRRubyRustSASSScalaSCSSShellSmartySQLStylusSwiftTOMLTwigTypeScriptXMLYAML

xxxxxxxxxx

34

1

{

2

"id": "charge_81EDAABC175O76BD3E19",

3

"originalId": "charge_88EDAABC175O76BD3E88",

4

"liveMode": true,

5

"created": "2015-04-07T17:55:07Z",

6

"value": 2000,

7

"currency": "usd",

8

"trackId": "TRK12345",

9

"description": "capture description",

10

"responseMessage": "Approved",

11

"responseAdvancedInfo": "Approved",

12

"responseCode": "10000",

13

"status": "Captured",

14

"metadata": {

15

"product": "T-Shirt Ladies"

16

},

17

"products": \[

18

{

19

"description": "T-Shirt Ladies Medium",

20

"image": null,

21

"name": "T-Shirt Ladies",

22

"price": 2000,

23

"quantity": 1,

24

"shippingCost": 0,

25

"sku": "tee123",

26

"trackingUrl": "https://www.example.com"

27

}

28

\],

29

"udf1": "test udf 1",

30

"udf2": "test udf 2",

31

"udf3": "test udf 3",

32

"udf4": "test udf 4",

33

"udf5": "test udf 5"

34

}

Import from Gist

Checkout.com’s payment object contains two fields for configuring authorize and capture settings. \*\*autoCapture\*\* \* Set to \`y\` to authorize a payment and automatically capture it after a specified time period. \* Set to \`n\` to authorize a payment and manually capture it using our \[Capture a payment API\](doc:capture_a_payment) or \[The Hub\](https://hub.checkout.com/). \*\*autoCapTime\*\* \* If \`autoCapture = y\`, \`autoCapTime\` will define the number of hours (0-168) between the payment authorization and automatic capture. Set to \`autoCapTime\` ='0' to authorize and capture a payment at the same time.
